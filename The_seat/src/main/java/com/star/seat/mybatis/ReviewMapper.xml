<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="review">
	<!-- 작성한 리뷰 정보를 추가하는 method -->
	<insert id="addReview">
		insert into storeReview
		(num, storeNum, storeName, writer, content, star,
			 targetNum, imagePath, regdate)
		values(storeReview_seq.nextval, #{storeNum}, #{storeName},
			 #{writer}, #{content}, #{star}, #{targetNum}, #{imagePath}, sysdate)
	</insert>
	
	<!-- 해당 매장 리뷰 정보를 가져오는 method -->
	<select id="getReviewList" parameterType="reviewDto" resultType="reviewDto">
		select *
		from storeReview
		where storeNum=#{storeNum}
		order by num asc, targetNum asc
	</select>
</mapper>
